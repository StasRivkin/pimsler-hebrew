<div *ngIf="!isAuthenticated" style="display: block; height: 100vh">
  <app-update-checker></app-update-checker>
  <app-header style="display: block; height: 7%;"></app-header>
  <div *ngIf="statusServer!==''" style="text-align: center;width: 100vw; color: red">{{ statusServer }}</div>
  <app-authentication
    style="display: flex; flex-direction: column; align-items: center; height: 94%;width: 100%;justify-content: center"></app-authentication>
</div>

<div *ngIf="isAuthenticated" style="display: block; height: 100vh">
  <app-update-checker></app-update-checker>
  <app-header style="display: block; height: 7%;"></app-header>

  <app-tabs *ngIf="!isUserSettingOpen"
    style="display: flex; flex-direction: column; align-items: center; height: 94%;width: 100%;justify-content: center"></app-tabs>


  <mat-sidenav-container *ngIf="isMenuOpen" class="sidenav-container" style="height: 94%;width:100vw;z-index: 2">
    <mat-sidenav-content *ngIf="isMenuOpen" (click)="closeMenu()" (close)="closeMenu()">
      <div *ngIf="isMenuOpen" style="height: 100vh; width: 100vw; background-color: rgba(0, 0, 0, 0.2);"
           (click)="closeMenu()">
      </div>
    </mat-sidenav-content>
    <mat-sidenav mode="over" position="end" [opened]="isMenuOpen">
      <mat-nav-list>
        <a mat-list-item href="#">
          <mat-checkbox [(ngModel)]="isAutoplay" (change)="onAutoplayChange($event)">
            Автопроизведение
          </mat-checkbox>
        </a>

      </mat-nav-list>
      <div class="bottom-section">
        <hr/>
        <a mat-list-item href="#" (click)="handleSettings()">
          Настройки
        </a>
        <a mat-list-item href="#" (click)="handlePasswordChange()">
          Смена пароля
        </a>
        <a mat-list-item href="#" (click)="handleLogOut()">
          Выход
        </a>
      </div>
    </mat-sidenav>
  </mat-sidenav-container>

  <app-user-settings *ngIf="isUserSettingOpen"></app-user-settings>

  <app-change-password-modal *ngIf="isChangePasswordModalOpen"></app-change-password-modal>
</div>




